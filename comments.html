<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <link rel="Icon" type="image/ico" href="src/favicon.ico">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="app.js"></script>
</head>

<body>
    <div class="menu" style="background-color: #08956f;">
        <ul class="nav nav-tabs border-0 p-1" style="margin: 0 5%;">
            <li class="nav-item ">
                <a class="nav-link text-white px-4 py-2" href="index.html">About me</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-white px-4 py-2" href="projects.html">Projects</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-white px-4 py-2" href="skills.html">Skills</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-white px-4 py-2" href="contacts.html">Feedback</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-white px-4 py-2" href="#comments">Reviews</a>
            </li>
            <li class="nav-item ms-auto">
                <a id="signed" class="nav-link text-white px-4 py-2" href="auth.html">Sign In</a>
            </li>
        </ul>
    </div>
    <div id="comments" class="vh-100 border-top border-light p-5">
        <div id="review_container" class="container">

        </div>
    </div>
</body>

</html>
<script>
    if (signedUser != null) {
        $("#signed ").text("Sign out ");
    }
    showReviewes();

    function showReviewes() {
        for (i = 0; i < reviews.length; i++) {
            let divElem = $(" <div class='my-3 row border rounded border-success'> </div>");
            let img = $("<img class='p-0 col-sm-3 border-success rounded-start' alt='Some image'>")
            img.attr("src", reviews[i].image_path);
            let cardBody = $("<div class='col-sm-9 card-body p-4'></div>");
            let cardTitle = $("<h5 class='card-title text-dark'></h5>");
            cardTitle.text(reviews[i].nickname);
            let cardText = $("<p class='card-text'></p>");
            cardText.text(reviews[i].feedback);
            let divRating = $("<div class='d-flex justify-content-end'></div>");
            let checkedStars = $("<p class='text-success text-lg h3'></p>")
            let tmp = "★";
            for (j = 0; j < reviews[i].rating - 1; j++) {
                tmp += "★";
            }
            checkedStars.text(tmp);
            let uncheckedStars = $("<p class='h3'></p>");
            let tmpUnchecked = "";
            for (j = 0; j < 5 - reviews[i].rating; j++) {
                tmpUnchecked += "★";
            }
            uncheckedStars.text(tmpUnchecked);
            divRating.append(checkedStars);
            divRating.append(uncheckedStars);
            cardBody.append(cardTitle);
            cardBody.append(cardText);
            cardBody.append(divRating);
            divElem.append(img);
            divElem.append(cardBody);
            $("#review_container").append(divElem);
        }
    }
</script>